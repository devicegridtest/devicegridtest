<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexa Faucet | Recibe NEXA Gratis</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">üíß Nexa Faucet</div>
            <a href="https://discord.gg/zsBukhFp" class="discord-btn" target="_blank">
                <img src="https://devicegridtest.org/icons/brand-discord.svg" alt="Discord">
                √önete al Discord
            </a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Recibe <strong>0.01 NEXA</strong> gratis cada <strong>24 horas</strong></h1>
            <p>Perfecto para desarrolladores, testers y curiosos. ¬°Sin trucos, sin spam!</p>
        </div>
    </section>

    <!-- Balance Banner -->
    <div class="container">
        <div class="balance-banner">
            üí∞ Saldo disponible: <span id="balance">Cargando...</span> NEXA
        </div>
    </div>

    <!-- Faucet Form Section -->
    <section class="faucet-section">
        <div class="container">
            <div class="card">
                <h2>‚¨áÔ∏è Solicita tus NEXA</h2>
                <div class="faucet-form">
                    <input type="text" id="address" placeholder="nexa:tu_direccion_aqui..." required>

                    <!-- Bot√≥n con reCAPTCHA invisible -->
                    <button
                        class="g-recaptcha"
                        id="requestBtn"
                        data-sitekey="6Ldsed8rAAAAAHBk-ouCW0OS3keZIxSNvmb6HAAv"
                        data-callback="onRecaptchaSuccess"
                        data-action="faucet_request">
                        Solicitar 100 NEXA
                    </button>
                </div>
                <div id="message" class="message"></div>
            </div>
        </div>
    </section>

    <!-- Secciones restantes (sin cambios visuales) -->
    <section class="live-section">
        <div class="container">
            <h2>üì° √öltimas transacciones</h2>
            <div class="live-grid" id="transactionsGrid">
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
            </div>
        </div>
    </section>

    <section class="guide-section">
        <div class="container">
            <h2>üìå ¬øC√≥mo funciona?</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div>
                        <h3>Obt√©n una direcci√≥n Nexa</h3>
                        <p>Usa una cartera como Nexa Wallet, Otoplo o Wally Nexa Wallet en Android/iOS.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div>
                        <h3>P√©gala arriba</h3>
                        <p>Copia y pega tu direcci√≥n que empieza con <code>nexa:</code></p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div>
                        <h3>¬°Recibe fondos!</h3>
                        <p>En segundos recibir√°s 100 NEXA. L√≠mite: 1 vez cada 24 horas.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="donation-section">
        <div class="container">
            <h2>‚ù§Ô∏è ¬øQuieres apoyar esta faucet?</h2>
            <p>¬°Donaciones mantienen este servicio gratis para todos!</p>
            <div class="donation-card">
                <div class="address-display">
                    <code id="donationAddress">Cargando...</code>
                    <button id="copyBtn" class="copy-btn">üìã Copiar</button>
                </div>
                <p class="note">Env√≠a NEXA a esta direcci√≥n para recargar la faucet.</p>
            </div>
        </div>
    </section>

    <!-- Admin panel (igual que antes) -->
    <div id="adminPanel" class="admin-panel">
        ...
    </div>
    <button id="openAdminBtn" class="admin-btn">üõ†Ô∏è Admin</button>

    <!-- Scripts -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script>
    async function onRecaptchaSuccess(token) {
        const address = document.getElementById('address').value.trim();
        const message = document.getElementById('message');
        message.textContent = "Procesando solicitud...";

        try {
            const res = await fetch('https://devicegridtest.org/nexa_faucet_backend/api/claim', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ address, token })
            });
            const data = await res.json();
            if (data.error) {
                message.textContent = "‚ö†Ô∏è " + data.error;
            } else {
                message.textContent = "‚úÖ Transacci√≥n enviada: " + (data.txid || "√âxito");
            }
        } catch (e) {
            message.textContent = "‚ùå Error al enviar solicitud.";
        }
    }
    </script>
    <script src="script.js"></script>
</body>
</html>


